<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vintage Guitar Collector</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #0f1117;
            color: #e2e4e9;
        }

        /* ‚îÄ‚îÄ header ‚îÄ‚îÄ */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2.5rem;
            border-bottom: 1px solid #1e2028;
        }

        .logo {
            font-size: 1.1rem;
            font-weight: 600;
            color: #fff;
            letter-spacing: -0.02em;
        }

        .github-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #8b8fa3;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            transition: color 0.2s;
        }

        .github-link:hover {
            color: #fff;
        }

        .github-link svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        /* ‚îÄ‚îÄ hero ‚îÄ‚îÄ */
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 4rem 2rem;
            text-align: center;
        }

        .badge {
            display: inline-block;
            background: rgba(99, 102, 241, 0.12);
            color: #818cf8;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            padding: 0.4rem 1rem;
            border-radius: 2rem;
            margin-bottom: 2rem;
        }

        h1 {
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 700;
            color: #fff;
            letter-spacing: -0.03em;
            line-height: 1.1;
            max-width: 700px;
        }

        h1 .highlight {
            background: linear-gradient(135deg, #818cf8, #c084fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            margin-top: 1.5rem;
            font-size: 1.05rem;
            color: #6b7080;
            font-weight: 400;
            max-width: 500px;
            line-height: 1.6;
        }

        .name-tag {
            margin-top: 2.5rem;
            font-size: 0.9rem;
            color: #4a4e5a;
            font-weight: 500;
        }

        .name-tag span {
            color: #8b8fa3;
        }

        /* ‚îÄ‚îÄ footer ‚îÄ‚îÄ */
        footer {
            border-top: 1px solid #1e2028;
            padding: 2.5rem 2.5rem;
            max-width: 720px;
            margin: 0 auto;
            width: 100%;
        }

        .footer-label {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #4a4e5a;
            margin-bottom: 0.75rem;
        }

        .footer-bio {
            font-size: 0.9rem;
            color: #6b7080;
            line-height: 1.7;
        }

        .footer-bottom {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #1e2028;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.78rem;
            color: #3d4048;
        }

        /* ‚îÄ‚îÄ workflow section ‚îÄ‚îÄ */
        .workflow {
            background: #16181f;
            border-top: 2px solid #1e2028;
            padding: 3rem 2rem;
        }

        .workflow-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .workflow h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #fff;
            text-align: center;
            margin-bottom: 0.75rem;
        }

        .workflow-subtitle {
            text-align: center;
            color: #6b7080;
            font-size: 0.95rem;
            margin-bottom: 3rem;
        }

        .agents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2.5rem;
        }

        .agent-card {
            background: #1a1c23;
            border: 1px solid #1e2028;
            border-radius: 12px;
            padding: 1.5rem;
        }

        .agent-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .agent-icon {
            font-size: 2.5rem;
        }

        .agent-info h3 {
            font-size: 1.1rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.25rem;
        }

        .agent-status {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-weight: 500;
        }

        .status-running {
            background: rgba(34, 197, 94, 0.15);
            color: #4ade80;
        }

        .status-stopped {
            background: rgba(239, 68, 68, 0.15);
            color: #f87171;
        }

        .status-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: currentColor;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .agent-metrics {
            display: grid;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #1e2028;
        }

        .metric-row:last-child {
            border-bottom: none;
        }

        .metric-label {
            font-size: 0.85rem;
            color: #6b7080;
        }

        .metric-value {
            font-size: 0.9rem;
            font-weight: 600;
            color: #fff;
        }

        .workflow-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            padding: 2rem;
            background: #1a1c23;
            border-radius: 12px;
            border: 1px solid #1e2028;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #818cf8;
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.75rem;
            color: #6b7080;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        @media (max-width: 768px) {
            .workflow h2 {
                font-size: 1.5rem;
            }
            .agents-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<header>
    <div class="logo">Vintage Guitar Collector</div>
    <a href="https://github.com/sebdallais-git" target="_blank" class="github-link">
        <svg viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.385-1.335-1.755-1.335-1.755-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
        sebdallais-git
    </a>
</header>

<main>
    <div class="badge">Welcome</div>
    <h1>The <span class="highlight">Agentic</span> Vintage Guitar Collector</h1>
    <p class="subtitle">An agentic workflow scraping vintage guitars websites, sending me messages of new listing on Telegram, and showing me the top 10 targets sorted by value, condition and how they nicely compliment my collection.</p>
    <div class="name-tag">Built by <span>Sebastien DALLAIS</span></div>
</main>

<section class="workflow">
    <div class="workflow-container">
        <h2>‚öôÔ∏è Agentic Workflow</h2>
        <p class="workflow-subtitle">Autonomous agents working 24/7 to find your next vintage guitar</p>

        <div class="agents-grid">
            <div class="agent-card">
                <div class="agent-header">
                    <div class="agent-icon">üîç</div>
                    <div class="agent-info">
                        <h3>Watchdog Agent</h3>
                        <span class="agent-status status-running" id="watchdog-status">
                            <span class="status-dot"></span>
                            Running
                        </span>
                    </div>
                </div>
                <div class="agent-metrics">
                    <div class="metric-row">
                        <span class="metric-label">Uptime</span>
                        <span class="metric-value" id="watchdog-uptime">‚Äî</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Last Check</span>
                        <span class="metric-value" id="watchdog-last">‚Äî</span>
                    </div>
                </div>
            </div>

            <div class="agent-card">
                <div class="agent-header">
                    <div class="agent-icon">üï∑Ô∏è</div>
                    <div class="agent-info">
                        <h3>Scraper Agent</h3>
                        <span class="agent-status status-running" id="scraper-status">
                            <span class="status-dot"></span>
                            Active
                        </span>
                    </div>
                </div>
                <div class="agent-metrics">
                    <div class="metric-row">
                        <span class="metric-label">Sites Monitored</span>
                        <span class="metric-value">2</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Interval</span>
                        <span class="metric-value">5 min</span>
                    </div>
                </div>
            </div>

            <a href="pages/scorer.html" style="text-decoration: none; color: inherit;">
            <div class="agent-card" style="cursor: pointer; transition: border-color 0.2s, background 0.2s;" onmouseover="this.style.borderColor='#818cf8';this.style.background='#1e2030'" onmouseout="this.style.borderColor='#1e2028';this.style.background='#1a1c23'">
                <div class="agent-header">
                    <div class="agent-icon">üìä</div>
                    <div class="agent-info">
                        <h3>Scorer Agent</h3>
                        <span class="agent-status status-running">
                            <span class="status-dot"></span>
                            Ready
                        </span>
                    </div>
                </div>
                <div class="agent-metrics">
                    <div class="metric-row">
                        <span class="metric-label">Algorithm</span>
                        <span class="metric-value">Value + Fit</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Top Picks</span>
                        <span class="metric-value" id="top-picks">‚Äî</span>
                    </div>
                </div>
            </div>
            </a>
        </div>

        <div class="workflow-stats">
            <div class="stat-item">
                <div class="stat-value" id="total-listings">‚Äî</div>
                <div class="stat-label">Total Listings</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="active-listings">‚Äî</div>
                <div class="stat-label">Active</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="recommendations">‚Äî</div>
                <div class="stat-label">Recommended</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="collection">‚Äî</div>
                <div class="stat-label">In Collection</div>
            </div>
        </div>
    </div>
</section>

<footer>
    <div class="footer-label">√Ä propos</div>
    <p class="footer-bio">
        Swiss-based global account manager, learning AI by doing. Passionate about vintage guitars ‚Äî from rare acoustics to iconic electrics. This project is a hands-on experiment in building agentic tools that do the hunting while I focus on the finds.
    </p>
    <div class="footer-bottom">
        <span>&copy; 2026 Sebastien DALLAIS</span>
        <span>vintage-guitar-collector</span>
    </div>
</footer>

<script>
    function formatUptime(seconds) {
        var hours = Math.floor(seconds / 3600);
        var minutes = Math.floor((seconds % 3600) / 60);
        if (hours > 0) return hours + 'h ' + minutes + 'm';
        if (minutes > 0) return minutes + ' min';
        return seconds + ' sec';
    }

    function timeAgo(date) {
        var seconds = Math.floor((new Date() - new Date(date)) / 1000);
        if (seconds < 60) return 'just now';
        var minutes = Math.floor(seconds / 60);
        if (minutes < 60) return minutes + ' min ago';
        var hours = Math.floor(minutes / 60);
        if (hours < 24) return hours + 'h ago';
        return Math.floor(hours / 24) + 'd ago';
    }

    function loadWorkflowMetrics() {
        fetch('/api/stats')
            .then(function(r) { return r.json(); })
            .then(function(stats) {
                document.getElementById('total-listings').textContent = stats.total_listings;
                document.getElementById('active-listings').textContent = stats.active_listings;
                document.getElementById('recommendations').textContent = stats.recommendations;
                document.getElementById('collection').textContent = stats.collection_size;
                document.getElementById('top-picks').textContent = stats.recommendations;
            })
            .catch(function(error) {
                console.error('Error loading workflow metrics:', error);
            });

        // Check agent status (simulated - you can enhance this with actual process checks)
        fetch('/api/agent-status')
            .then(function(r) { return r.json(); })
            .then(function(status) {
                if (status.watchdog) {
                    document.getElementById('watchdog-uptime').textContent = formatUptime(status.watchdog.uptime || 0);
                    document.getElementById('watchdog-last').textContent = timeAgo(status.watchdog.last_check);
                }
            })
            .catch(function() {
                // Default fallback
                document.getElementById('watchdog-uptime').textContent = 'Active';
                document.getElementById('watchdog-last').textContent = 'Now';
            });
    }

    // Load initially and refresh every 30 seconds
    loadWorkflowMetrics();
    setInterval(loadWorkflowMetrics, 30000);
</script>

</body>
</html>
